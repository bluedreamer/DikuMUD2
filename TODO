* Change event_enq and all that to use functors/lambda or something beside func pointers
* Remove function proto's in functions
* Turn unit_affected_type into shared_ptr
